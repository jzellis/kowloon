"use strict";

Object.defineProperty(exports, "__esModule", {
  value: true
});
var CRLF = '\r\n';
function encodeCommand(args) {
  var toWrite = [];
  var strings = '*' + args.length + CRLF;
  for (var i = 0; i < args.length; i++) {
    var arg = args[i];
    if (typeof arg === 'string') {
      strings += '$' + Buffer.byteLength(arg) + CRLF + arg + CRLF;
    } else if (arg instanceof Buffer) {
      toWrite.push(strings + '$' + arg.length.toString() + CRLF, arg);
      strings = CRLF;
    } else {
      throw new TypeError('Invalid argument type');
    }
  }
  toWrite.push(strings);
  return toWrite;
}
exports["default"] = encodeCommand;